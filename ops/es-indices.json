DELETE /varca-geo-places-vervotech-v3
PUT /varca-geo-places-vervotech-v3
{
  "settings": {
    "index": {
      "number_of_shards": 5,  
      "number_of_replicas": 1
    },
    "analysis": {
      "normalizer": {
        "normalizer_lowercase": {
          "type": "custom",
          "filter": ["lowercase", "asciifolding"]
        }
      }
    }
  }
}

PUT /varca-geo-places-vervotech-v3/_mapping
{
    "dynamic" : false,
    "properties": {
      "geometry": {
        "type": "geo_shape"
      },
      "id": {
        "type": "keyword",
        "ignore_above": 256
      },
      "properties": {
        "properties": {
          "address": {
            "properties": {
              "city": {
                "type": "keyword",
                "normalizer": "normalizer_lowercase",
                "ignore_above": 256
              },
              "countryCode": {
                "type": "keyword",
                "normalizer": "normalizer_lowercase",
                "ignore_above": 256
              },
              "postalCode": {
                "type": "keyword",
                "normalizer": "normalizer_lowercase",
                "ignore_above": 256
              },
              "state": {
                "type": "keyword",
                "normalizer": "normalizer_lowercase",
                "ignore_above": 256
              },
              "stateDistrict": {
                "type": "keyword",
                "normalizer": "normalizer_lowercase",
                "ignore_above": 256
              }
            }
          },
          "alternateNames": {
            "type": "search_as_you_type"
          },
          "category": {
            "type": "keyword",
            "normalizer": "normalizer_lowercase",
            "ignore_above": 256
          },
          "displayName": {
            "type": "search_as_you_type"
          },
          "name": {
            "type": "search_as_you_type"
          },
          "oldNames": {
            "type": "search_as_you_type"
          },
          "parentPlaceId": {
            "type": "keyword",
            "ignore_above": 256
          },
          "sourceId": {
            "type": "keyword",
            "ignore_above": 256
          },
          "geoCode": {
            "type": "geo_shape"
          }
        }
      }
    }
}

PUT _ingest/pipeline/my_rename_pipeline
{
  "description" : "describe pipeline",
  "processors" : [
    {
      "rename": {
        "field": "properties.parentVervotechPlaceId",
        "target_field": "properties.parentPlaceId"
      }
    }
  ]
}




POST _reindex
{
  "source": {
    "index": "varca-geo-places-v3"
  },
  "dest": {
    "index": "varca-geo-places-vervotech-v4",
    "pipeline": "my_rename_pipeline"
  }
} 





DELETE /varca-geo-hms-v3

PUT /varca-geo-hms-v3
{
  "settings": {
    "index": {
      "number_of_shards": 5,  
      "number_of_replicas": 1
    },
    "analysis": {
      "normalizer": {
        "normalizer_lowercase": {
          "type": "custom",
          "filter": ["lowercase", "asciifolding"]
        }
      }
    }
  }
}

PUT /varca-geo-hms-v3/_mapping
{
  "dynamic" : false,
  "properties": {
    "location": {
      "type": "geo_shape"
    },
    "id": {
      "type": "keyword",
      "ignore_above": 256
    },
    "publishKey": {
      "type": "keyword",
      "ignore_above": 256
    },
    "unicaId": {
      "type": "long"
    },
    "runId": {
      "type": "keyword",
      "ignore_above": 256
    }
  }
}
